<div class="profile-container">
  <div class="profile-header">
    <div class="profile-image">
      <img *ngIf="imagePreviewUrl" [src]="imagePreviewUrl" alt="Profile Picture" />
    </div>
    <div class="profile-header-text">
      <h2>{{ user?.name }}</h2>
      <p>{{ user?.email }}</p>
      <p class="role-badge">{{ user?.role }}</p>
    </div>
  </div>

  <form *ngIf="user && form" [formGroup]="form" (ngSubmit)="saveChanges()" class="profile-form">
    <!-- Name -->
    <div class="form-group">
      <label>Full Name</label>
      <input type="text" formControlName="name" [readonly]="!isEditing" />
    </div>

    <!-- Photo Upload -->
    <div class="form-group">
      <label>Profile Photo</label>
      <input type="file" (change)="onFileSelected($event)" [disabled]="!isEditing" />
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button type="button" (click)="enableEdit()" *ngIf="!isEditing">Edit Profile</button>
      <button type="button" (click)="cancelChanges()" *ngIf="isEditing">Cancel</button>
      <button type="submit" *ngIf="isEditing">Save Changes</button>
    </div>
  </form>
</div>
